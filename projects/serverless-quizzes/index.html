<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.5b0ed05c94545859618c.css" data-identity="gatsby-global-css">/*! tailwindcss v2.2.7 | MIT License | https://tailwindcss.com */

/*! modern-normalize v1.1.0 | MIT License | https://github.com/sindresorhus/modern-normalize */html{-webkit-text-size-adjust:100%;line-height:1.15;-moz-tab-size:4;-o-tab-size:4;tab-size:4}body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;margin:0}hr{color:inherit;height:0}abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{border-color:inherit;text-indent:0}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,select{text-transform:none}[type=button],button{-webkit-appearance:button}legend{padding:0}progress{vertical-align:baseline}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}button{background-color:transparent;background-image:none}fieldset,ol,ul{margin:0;padding:0}ol,ul{list-style:none}html{font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;line-height:1.5}body{font-family:inherit;line-height:inherit}*,:after,:before{border:0 solid;box-sizing:border-box}hr{border-top-width:1px}img{border-style:solid}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{color:#9ca3af;opacity:1}input:-ms-input-placeholder,textarea:-ms-input-placeholder{color:#9ca3af;opacity:1}input::placeholder,textarea::placeholder{color:#9ca3af;opacity:1}[role=button],button{cursor:pointer}table{border-collapse:collapse}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}button,input,optgroup,select,textarea{color:inherit;line-height:inherit;padding:0}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{height:auto;max-width:100%}[hidden]{display:none}*,:after,:before{--tw-border-opacity:1;border-color:rgba(229,231,235,var(--tw-border-opacity))}.prose{color:#374151;max-width:65ch}.prose a{color:#111827;font-weight:500;text-decoration:underline}.prose strong{color:#111827;font-weight:600}.prose ol[type=a],.prose ol[type=a s]{--list-counter-style:lower-alpha}.prose ol[type=I]{--list-counter-style:upper-roman}.prose ol[type=i]{--list-counter-style:lower-roman}.prose ol[type=I s]{--list-counter-style:upper-roman}.prose ol[type=i s]{--list-counter-style:lower-roman}.prose ol[type="1"]{--list-counter-style:decimal}.prose ol>li{padding-left:1.75em;position:relative}.prose ol>li:before{color:#6b7280;content:counter(list-item,var(--list-counter-style,decimal)) ".";font-weight:400;left:0;position:absolute}.prose ul>li{padding-left:1.75em;position:relative}.prose ul>li:before{background-color:#d1d5db;border-radius:50%;content:"";height:.375em;left:.25em;position:absolute;top:.6875em;width:.375em}.prose hr{border-color:#e5e7eb;border-top-width:1px;margin-bottom:3em;margin-top:3em}.prose blockquote{border-left-color:#e5e7eb;border-left-width:.25rem;color:#111827;font-style:italic;font-weight:500;margin-bottom:1.6em;margin-top:1.6em;padding-left:1em;quotes:"\201C""\201D""\2018""\2019"}.prose blockquote p:first-of-type:before{content:open-quote}.prose blockquote p:last-of-type:after{content:close-quote}.prose h1{color:#111827;font-size:2.25em;font-weight:800;line-height:1.1111111;margin-bottom:.8888889em;margin-top:0}.prose h2{color:#111827;font-size:1.5em;font-weight:700;line-height:1.3333333;margin-bottom:1em;margin-top:2em}.prose h3{font-size:1.25em;line-height:1.6;margin-bottom:.6em;margin-top:1.6em}.prose h3,.prose h4{color:#111827;font-weight:600}.prose h4{line-height:1.5;margin-bottom:.5em;margin-top:1.5em}.prose figure figcaption{color:#6b7280;font-size:.875em;line-height:1.4285714;margin-top:.8571429em}.prose code{color:#111827;font-size:.875em;font-weight:600}.prose code:after,.prose code:before{content:"`"}.prose a code{color:#111827}.prose pre{background-color:#1f2937;border-radius:.375rem;color:#e5e7eb;font-size:.875em;line-height:1.7142857;margin-bottom:1.7142857em;margin-top:1.7142857em;overflow-x:auto;padding:.8571429em 1.1428571em}.prose pre code{background-color:transparent;border-radius:0;border-width:0;color:inherit;font-family:inherit;font-size:inherit;font-weight:400;line-height:inherit;padding:0}.prose pre code:after,.prose pre code:before{content:none}.prose table{font-size:.875em;line-height:1.7142857;margin-bottom:2em;margin-top:2em;table-layout:auto;text-align:left;width:100%}.prose thead{border-bottom-color:#d1d5db;border-bottom-width:1px;color:#111827;font-weight:600}.prose thead th{padding-bottom:.5714286em;padding-left:.5714286em;padding-right:.5714286em;vertical-align:bottom}.prose tbody tr{border-bottom-color:#e5e7eb;border-bottom-width:1px}.prose tbody tr:last-child{border-bottom-width:0}.prose tbody td{padding:.5714286em;vertical-align:top}.prose{font-size:1rem;line-height:1.75}.prose p{margin-bottom:1.25em;margin-top:1.25em}.prose figure,.prose img,.prose video{margin-bottom:2em;margin-top:2em}.prose figure>*{margin-bottom:0;margin-top:0}.prose h2 code{font-size:.875em}.prose h3 code{font-size:.9em}.prose ol,.prose ul{margin-bottom:1.25em;margin-top:1.25em}.prose li{margin-bottom:.5em;margin-top:.5em}.prose>ul>li p{margin-bottom:.75em;margin-top:.75em}.prose>ul>li>:first-child{margin-top:1.25em}.prose>ul>li>:last-child{margin-bottom:1.25em}.prose>ol>li>:first-child{margin-top:1.25em}.prose>ol>li>:last-child{margin-bottom:1.25em}.prose ol ol,.prose ol ul,.prose ul ol,.prose ul ul{margin-bottom:.75em;margin-top:.75em}.prose h2+*,.prose h3+*,.prose h4+*,.prose hr+*{margin-top:0}.prose thead th:first-child{padding-left:0}.prose thead th:last-child{padding-right:0}.prose tbody td:first-child{padding-left:0}.prose tbody td:last-child{padding-right:0}.prose>:first-child{margin-top:0}.prose>:last-child{margin-bottom:0}.absolute{position:absolute}.relative{position:relative}.inset-0{bottom:0;left:0;right:0;top:0}.left-full{left:100%}.z-10{z-index:10}.-m-3{margin:-.75rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mx-4{margin-left:1rem;margin-right:1rem}.-my-5{margin-bottom:-1.25rem;margin-top:-1.25rem}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-3{margin-top:.75rem}.mt-4{margin-top:1rem}.mt-6{margin-top:1.5rem}.-mt-16{margin-top:-4rem}.mb-4{margin-bottom:1rem}.ml-2{margin-left:.5rem}.ml-4{margin-left:1rem}.block{display:block}.inline-block{display:inline-block}.flex{display:flex}.inline-flex{display:inline-flex}.table{display:table}.flow-root{display:flow-root}.grid{display:grid}.hidden{display:none}.h-8{height:2rem}.h-10{height:2.5rem}.h-12{height:3rem}.min-h-screen{min-height:100vh}.w-8{width:2rem}.w-10{width:2.5rem}.w-12{width:3rem}.w-72{width:18rem}.w-5\/6{width:83.333333%}.w-full{width:100%}.w-screen{width:100vw}.max-w-sm{max-width:24rem}.max-w-3xl{max-width:48rem}.flex-shrink-0{flex-shrink:0}.flex-grow{flex-grow:1}.transform{--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;transform:translateX(var(--tw-translate-x)) translateY(var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.-translate-x-full{--tw-translate-x:-100%}.translate-y-0{--tw-translate-y:0px}.translate-y-1{--tw-translate-y:0.25rem}@-webkit-keyframes spin{to{transform:rotate(1turn)}}@keyframes spin{to{transform:rotate(1turn)}}@-webkit-keyframes ping{75%,to{opacity:0;transform:scale(2)}}@keyframes ping{75%,to{opacity:0;transform:scale(2)}}@-webkit-keyframes pulse{50%{opacity:.5}}@keyframes pulse{50%{opacity:.5}}@-webkit-keyframes bounce{0%,to{-webkit-animation-timing-function:cubic-bezier(.8,0,1,1);animation-timing-function:cubic-bezier(.8,0,1,1);transform:translateY(-25%)}50%{-webkit-animation-timing-function:cubic-bezier(0,0,.2,1);animation-timing-function:cubic-bezier(0,0,.2,1);transform:none}}@keyframes bounce{0%,to{-webkit-animation-timing-function:cubic-bezier(.8,0,1,1);animation-timing-function:cubic-bezier(.8,0,1,1);transform:translateY(-25%)}50%{-webkit-animation-timing-function:cubic-bezier(0,0,.2,1);animation-timing-function:cubic-bezier(0,0,.2,1);transform:none}}.items-center{align-items:center}.justify-center{justify-content:center}.gap-8{gap:2rem}.space-x-1>:not([hidden])~:not([hidden]){--tw-space-x-reverse:0;margin-left:calc(.25rem*(1 - var(--tw-space-x-reverse)));margin-right:calc(.25rem*var(--tw-space-x-reverse))}.space-x-4>:not([hidden])~:not([hidden]){--tw-space-x-reverse:0;margin-left:calc(1rem*(1 - var(--tw-space-x-reverse)));margin-right:calc(1rem*var(--tw-space-x-reverse))}.space-y-2>:not([hidden])~:not([hidden]){--tw-space-y-reverse:0;margin-bottom:calc(.5rem*var(--tw-space-y-reverse));margin-top:calc(.5rem*(1 - var(--tw-space-y-reverse)))}.space-y-8>:not([hidden])~:not([hidden]){--tw-space-y-reverse:0;margin-bottom:calc(2rem*var(--tw-space-y-reverse));margin-top:calc(2rem*(1 - var(--tw-space-y-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse:0;border-bottom-width:calc(1px*var(--tw-divide-y-reverse));border-top-width:calc(1px*(1 - var(--tw-divide-y-reverse)))}.divide-gray-200>:not([hidden])~:not([hidden]){--tw-divide-opacity:1;border-color:rgba(229,231,235,var(--tw-divide-opacity))}.overflow-hidden{overflow:hidden}.rounded{border-radius:.25rem}.rounded-md{border-radius:.375rem}.rounded-lg{border-radius:.5rem}.rounded-full{border-radius:9999px}.border{border-width:1px}.border-b-4{border-bottom-width:4px}.border-gray-100{--tw-border-opacity:1;border-color:rgba(243,244,246,var(--tw-border-opacity))}.border-yellow-300{--tw-border-opacity:1;border-color:rgba(252,211,77,var(--tw-border-opacity))}.bg-white{--tw-bg-opacity:1;background-color:rgba(255,255,255,var(--tw-bg-opacity))}.bg-gray-50{--tw-bg-opacity:1;background-color:rgba(249,250,251,var(--tw-bg-opacity))}.bg-gray-100{--tw-bg-opacity:1;background-color:rgba(243,244,246,var(--tw-bg-opacity))}.bg-yellow-50{--tw-bg-opacity:1;background-color:rgba(255,251,235,var(--tw-bg-opacity))}.bg-indigo-100{--tw-bg-opacity:1;background-color:rgba(224,231,255,var(--tw-bg-opacity))}.hover\:bg-gray-50:hover{--tw-bg-opacity:1;background-color:rgba(249,250,251,var(--tw-bg-opacity))}.hover\:bg-gray-100:hover{--tw-bg-opacity:1;background-color:rgba(243,244,246,var(--tw-bg-opacity))}.bg-gradient-to-r{background-image:linear-gradient(to right,var(--tw-gradient-stops))}.from-sky-700{--tw-gradient-from:#0369a1;--tw-gradient-stops:var(--tw-gradient-from),var(--tw-gradient-to,rgba(3,105,161,0))}.to-cyan-500{--tw-gradient-to:#06b6d4}.p-2{padding:.5rem}.p-4{padding:1rem}.p-7{padding:1.75rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-3{padding-left:.75rem;padding-right:.75rem}.px-4{padding-left:1rem;padding-right:1rem}.py-0{padding-bottom:0;padding-top:0}.py-1{padding-bottom:.25rem;padding-top:.25rem}.py-2{padding-bottom:.5rem;padding-top:.5rem}.py-5{padding-bottom:1.25rem;padding-top:1.25rem}.py-0\.5{padding-bottom:.125rem;padding-top:.125rem}.pb-2{padding-bottom:.5rem}.pb-4{padding-bottom:1rem}.pb-24{padding-bottom:6rem}.text-xs{font-size:.75rem;line-height:1rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-base{font-size:1rem;line-height:1.5rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.font-medium{font-weight:500}.font-semibold{font-weight:600}.text-white{--tw-text-opacity:1;color:rgba(255,255,255,var(--tw-text-opacity))}.text-gray-200{--tw-text-opacity:1;color:rgba(229,231,235,var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity:1;color:rgba(107,114,128,var(--tw-text-opacity))}.text-gray-600{--tw-text-opacity:1;color:rgba(75,85,99,var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity:1;color:rgba(31,41,55,var(--tw-text-opacity))}.text-gray-900{--tw-text-opacity:1;color:rgba(17,24,39,var(--tw-text-opacity))}.text-indigo-800{--tw-text-opacity:1;color:rgba(55,48,163,var(--tw-text-opacity))}.text-sky-400{--tw-text-opacity:1;color:rgba(56,189,248,var(--tw-text-opacity))}.text-opacity-70{--tw-text-opacity:0.7}.text-opacity-90{--tw-text-opacity:0.9}.group:hover .group-hover\:text-opacity-80{--tw-text-opacity:0.8}.hover\:text-opacity-100:hover{--tw-text-opacity:1}.hover\:underline:hover{text-decoration:underline}.opacity-0{opacity:0}.opacity-100{opacity:1}*,:after,:before{--tw-shadow:0 0 #0000}.shadow{--tw-shadow:0 1px 3px 0 rgba(0,0,0,0.1),0 1px 2px 0 rgba(0,0,0,0.06)}.shadow,.shadow-lg{box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow:0 10px 15px -3px rgba(0,0,0,0.1),0 4px 6px -2px rgba(0,0,0,0.05)}.focus\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}*,:after,:before{--tw-ring-inset:var(--tw-empty,/*!*/ /*!*/);--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000}.ring-1{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 #0000)}.focus-within\:ring-2:focus-within{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 #0000)}.ring-black{--tw-ring-opacity:1;--tw-ring-color:rgba(0,0,0,var(--tw-ring-opacity))}.focus-within\:ring-cyan-500:focus-within{--tw-ring-opacity:1;--tw-ring-color:rgba(6,182,212,var(--tw-ring-opacity))}.ring-opacity-5{--tw-ring-opacity:0.05}.transition{transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1)}.duration-150,.transition{transition-duration:.15s}.duration-200{transition-duration:.2s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}@media (min-width:640px){.sm\:w-3\/4{width:75%}.sm\:px-0{padding-left:0;padding-right:0}}@media (min-width:768px){.md\:text-sm{font-size:.875rem;line-height:1.25rem}}@media (min-width:1024px){.lg\:mx-4{margin-left:1rem;margin-right:1rem}.lg\:block{display:block}.lg\:w-1\/2{width:50%}.lg\:max-w-3xl{max-width:48rem}.lg\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.lg\:px-8{padding-left:2rem;padding-right:2rem}}@media (min-width:1280px){.xl\:w-2\/5{width:40%}}</style><meta name="generator" content="Gatsby 3.10.2"/><link rel="icon" href="/favicon-32x32.png?v=53aa06cf17e4239d0dba6ffd09854e02" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=53aa06cf17e4239d0dba6ffd09854e02"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=53aa06cf17e4239d0dba6ffd09854e02"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=53aa06cf17e4239d0dba6ffd09854e02"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=53aa06cf17e4239d0dba6ffd09854e02"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=53aa06cf17e4239d0dba6ffd09854e02"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=53aa06cf17e4239d0dba6ffd09854e02"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=53aa06cf17e4239d0dba6ffd09854e02"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=53aa06cf17e4239d0dba6ffd09854e02"/><link as="script" rel="preload" href="/webpack-runtime-ef5337b5be46dedf3bbe.js"/><link as="script" rel="preload" href="/framework-8f37e7e48c1f9910a176.js"/><link as="script" rel="preload" href="/app-5078ad23aed246639190.js"/><link as="script" rel="preload" href="/2c55300f2e7d4016f22c26bd5854057f5201321e-2388eb25c51adc51100a.js"/><link as="script" rel="preload" href="/component---src-pages-markdown-remark-frontmatter-slug-js-4f2f72565b5cc3c19457.js"/><link as="fetch" rel="preload" href="/page-data/projects/serverless-quizzes/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="min-h-screen bg-gray-100"><div><title>Serverless Quiz Game</title><div class="bg-gradient-to-r from-sky-700 to-cyan-500 p-4 lg:px-8 pb-24"><div class="flex items-center text-gray-200"><a class="flex items-center space-x-4" href="/"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="h-12 w-12"><path fill-rule="evenodd" d="M2 5a2 2 0 012-2h12a2 2 0 012 2v10a2 2 0 01-2 2H4a2 2 0 01-2-2V5zm3.293 1.293a1 1 0 011.414 0l3 3a1 1 0 010 1.414l-3 3a1 1 0 01-1.414-1.414L7.586 10 5.293 7.707a1 1 0 010-1.414zM11 12a1 1 0 100 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path></svg><span class="text-xl">Isaac Murtagh</span></a><div class="flex flex-grow"></div><div><div class="relative"><button class="
                text-opacity-90
                text-white group bg-orange-700 px-3 py-2 rounded-md inline-flex items-center text-base font-medium hover:text-opacity-100 focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75" id="headlessui-popover-button-undefined" type="button" aria-expanded="false"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-opacity-70
                  h-8 w-8 text-orange-300 group-hover:text-opacity-80 transition ease-in-out duration-150" aria-hidden="true"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg></button></div></div></div></div></div><main class="-mt-16"><div class="flex justify-center"><div class="hidden lg:block mx-4"><div class="rounded-md bg-white w-72 shadow"><div class="p-4"><div class="text-gray-900 text-xl text-base">Featured</div><div class="flow-root mt-6"><ul class="-my-5 divide-y divide-gray-200"><li class="py-5"><div class="relative focus-within:ring-2 focus-within:ring-cyan-500"><h3 class="text-sm font-semibold text-gray-800"><a class="hover:underline focus:outline-none" href="/projects/my-portfolio-site"><span class="absolute inset-0" aria-hidden="true"></span>My Portfolio Site</a></h3><p class="mt-1 text-sm text-gray-600 line-clamp-2">Using Gatsby, I create my own site to serve as a platform for showing off the cool things I&#x27;m working on.</p></div></li><li class="py-5"><div class="relative focus-within:ring-2 focus-within:ring-cyan-500"><h3 class="text-sm font-semibold text-gray-800"><a aria-current="page" class="hover:underline focus:outline-none" href="/projects/serverless-quizzes/"><span class="absolute inset-0" aria-hidden="true"></span>Serverless Quiz Game</a></h3><p class="mt-1 text-sm text-gray-600 line-clamp-2">I used AWS to create a serverless API for multi choice quizzes you can play with your friends online, in real time!</p></div></li></ul></div></div></div></div><div class="mx-2 lg:mx-4 rounded-md bg-white max-w-3xl w-full shadow"><div class="p-4"><div class="pb-4 space-y-2"><div class="ml-2 inline-block"><div class="inline-block bg-yellow-50 border-yellow-300 border rounded px-2 py-1 text-xs md:text-sm text-gray-600">AWS Lambda</div></div><div class="ml-2 inline-block"><div class="inline-block bg-yellow-50 border-yellow-300 border rounded px-2 py-1 text-xs md:text-sm text-gray-600">AWS Api Gateway</div></div><div class="ml-2 inline-block"><div class="inline-block bg-yellow-50 border-yellow-300 border rounded px-2 py-1 text-xs md:text-sm text-gray-600">AWS Cloudformation</div></div><div class="ml-2 inline-block"><div class="inline-block bg-yellow-50 border-yellow-300 border rounded px-2 py-1 text-xs md:text-sm text-gray-600">DynamoDb</div></div><div class="ml-2 inline-block"><div class="inline-block bg-yellow-50 border-yellow-300 border rounded px-2 py-1 text-xs md:text-sm text-gray-600">Serverless</div></div><div class="ml-2 inline-block"><div class="inline-block bg-yellow-50 border-yellow-300 border rounded px-2 py-1 text-xs md:text-sm text-gray-600">Node.js</div></div><div class="ml-2 inline-block"><div class="inline-block bg-yellow-50 border-yellow-300 border rounded px-2 py-1 text-xs md:text-sm text-gray-600">Open source</div></div></div><article class="prose"><h1>Serverless multi-choice quiz API!</h1>
<h2>Tldr;</h2>
<p>I used AWS to create a serverless API for multi choice quizzes you can play with your friends.
Using Amazons Lambda and API Gateway, players of the game are able to share a link with their friends,
establish a web socket connection to my backend and have new rounds broadcasted to them in real
time! You can check out my final web app at <a href="https://isaacmurtagh.github.io/PartyGames_Client/">https://isaacmurtagh.github.io/PartyGames_Client/</a></p>
<h2>The Beginnings</h2>
<p>This project began when I decided that I wanted to learn about deploying a service completely
serverless. I wanted to create something in my free time, but didn't want to be paying any money.
Because amazons pricing for Api Gateway and Lambda was only pay for what you use, I thought this
would be a perfect fit.</p>
<p>When I first started this project, I knew I wanted to make something with game state. This was going
to be give me the best opportunity to use different technologies and expand on my knowledge base.</p>
<p>Choosing a serverless framework, I found two popular choices. The <strong>Serverless Framework</strong> which
appears to have be first on the scene, and Amazons own <strong>SAM</strong> (Serverless Application Model)
framework. I preferred sam, as it was native to Amazon, and the only costs were what was hosted in
the cloud.</p>
<h2>Backend</h2>
<h3>Getting Started</h3>
<p>Like you always should when you create your first project with a new technology, I created my Hello
World. This was relatively straight forward with the <code>sam init</code> command. Something that originally
appealed to me about SAM was that it allowed me to test my functions locally by mocking api gateway.
I was able to test my Hello World, but i wasn't satisfied. Hello Worlds are easy, the real getting
started is do have a base for the project you want to work on.</p>
<p>I followed the Amazon docs, and created myself a very simple Rest Api. You would GET /health and
be returned with 200, OK. SAM has a template file which is an abstraction over amazons Cloudformation
file. It allows you to describe a service in fewer lines, and then sam interprets it and uploads
the template file that Cloudformation understands. Once I built and deployed the code, Api Gateway
created me a URL and I was able to invoke my lambda function which handled the request.</p>
<p>This is a snippet of what I had to define for provisioning my cloud resources</p>
<pre><code># template.yaml
...
Resources:
  GameFunction:
    Type: AWS::Serverless::Function
    Properties:
      CodeUri: src/hello-world
      Handler: app.handler
      Events:
        GetHealthApi:
          Type: Api
          Properties:
            Path: /health
            Method: get
Outputs:
  Api:
    Description: "API Gateway endpoint URL"
    Value: !Sub "https://${RestApiGateway}.execute-api.${AWS::Region}.amazonaws.com/api"
</code></pre>
<h3>Implementing my first APIs</h3>
<p>My next goal was to be able to /GET Game and /POST Game. For this I going to need the APIs and a
database for persisting the games.</p>
<p>When choosing my database I wanted free, managed and NoSql. As I'm already using AWS for my cloud
services, I decided on Dynamo DB.</p>
<p>The great thing about serverless applications is you can tear things down and spin them back up
so easily and quickly. I decided that a development and production environment best let me utilise a
workflow of tearing down the Api and spinning it back up as much as I want. I did this by declaring
different parameters passed into my template.yaml file, which would create me a dev or prod
database depending on the mode. Then I would map the database name depending on my environment
inside the template.yaml file.</p>
<pre><code>Mappings:
  EnvironmentMap:
    dev:
      gamesTable: games-dev
    prod:
      gamesTable: games-prod
Globals:
  Function:
    Environment:
      Variables:
          GAMES_TABLE_NAME: !FindInMap [ EnvironmentMap, !Ref "Environment", gamesTable ]
</code></pre>
<p>At this point of the project my directory structure was looking something like this.</p>
<pre><code>├── README.md
├── docker-compose.yml           &#x3C;--- Start dynamo locally
├── samconfig.toml               &#x3C;--- Sam cli configs
├── src
│   └── game                     &#x3C;--- Deployed to Lambda
│       ├── app.js               &#x3C;--- Lambda entry point
│       ├── dbClient.js
│       ├── gamesTable.js
│       ├── handlers
│       │   ├── createGame.js    &#x3C;--- Handle /POST
│       │   └── getGame.js       &#x3C;--- Handle /GET
│       ├── models
│       │   └── Game.js
│       └── package.json
└── template.yaml                &#x3C;--- Cloud formation
</code></pre>
<p>However, I was already starting to see a problem with scaling a serverless application I would need
to solve next.</p>
<h3>Sharing code between Lambdas</h3>
<p>I knew that I wanted to separate my Lambdas based on the resource concern for my APIs but it was
natural that some resources needed to know about other resources. I was going to have a user model,
but any call to create or join a game would need to check the user who was making the request.</p>
<p>After some looking into how I might define models of games and users in each lambda without rewriting
the class, I found Lambda Layers. These would allow me to deploy code to AWS Lambda which could
be used by other lambdas. This solved the problem of declaring dependencies in each of my layers
package.json files, needing a db client for each of my layers, and reusing models.</p>
<p>When using layers, to access to files stored in them from your layer deploy to AWS you require from
the <code>/opt/nodejs/{file-path}</code>. This poses a problem when you want to test your application locally.
To solve this, you would need to conditionally require from the directory in your local machine or
the location in AWS.</p>
<pre><code>const gamesTable = inAws ? require('/opt/nodejs/tables/gamesTable') : require('../_layers/common/tables/gamesTable');
</code></pre>
<p>This can get messy quick. So i opted to do this sort of logic in a single file called <code>layerDeps.js</code>.
This abstracted away the logic of knowing what environment I was in, and the locations of the files.</p>
<pre><code># src/game/layerDeps.js
const inAws = !!process.env.AWS_REGION;
const gamesTable = inAws ? require('/opt/nodejs/tables/gamesTable') : require('../_layers/common/tables/gamesTable');
module.exports = { gamesTable };

# src/game/handlers/createGame.js
const { gamesTable } = require('../layerDeps.js')
</code></pre>
<p>Another approach might be to have a config which gave a base path of the file. This has the benefit
being more specific about what files you need, but with the trade off of more lines of code.</p>
<pre><code># src/game/handlers/createGame.js
const { COMMON_LAYER_BASE_PATH } = require('../configs');
const gamesTable = require(`${COMMON_LAYER_BASE_PATH}/tables/gamesTable`);
</code></pre>
<h3>Feedback loop go ZOOM!</h3>
<p>When starting with serverless, you might run into calling your endpoint and getting back 500's,
without knowing exactly why. If the lambda does not handle the exception then it won't return anything
and will always time out. I spent of my time early running into these sorts of issues and learned two
things that really started to speed up my feedback loop.</p>
<p>Firstly, don't be afraid to debug inside the Lambda itself. The AWS Console for Lambda provides
an IDE, a way to run test events against your lambda and a one click deploy within seconds that will
allow you to rapidly comment out code and insert logging to narrow down the cause.
<span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/339c291169c00560f71673c45658c28c/29007/lambda-ide.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 41.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABDUlEQVQoz4WS3W6DMAyFef+Hmna1F0CbOg1BJxU6AiEJJOEv4UxOoWIV2y4+WXbs4yMrUc05iIZzfFUczecb1OsThFJ4eX/GR35Cbwd0XQet9Q+oplqFtm0DrKoQcSFxZTWkEEiSBMZYDNMMay2s6WEpH4ZD+r6HsebWuxJ12uByLWG0xiXPkec5WFlCCBEcGGOCG6XU3SXFzRUtDNFazPOMyKzK4ziCMYa6rsE5DwJ290bN/zFNEyIaWJYlDMZxjDRNkWUZzucziqII4uSWFuyRUgZnj2eINquUUNN2cMppI7kjfrvjoaBzLogu3sN7B+/9veb2OPcn4YZ100C2bfgmQqpbXJE7HvMjqOcbtstnluuFIToAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="lambda-ide"
        title="lambda-ide"
        src="/static/339c291169c00560f71673c45658c28c/5a190/lambda-ide.png"
        srcset="/static/339c291169c00560f71673c45658c28c/772e8/lambda-ide.png 200w,
/static/339c291169c00560f71673c45658c28c/e17e5/lambda-ide.png 400w,
/static/339c291169c00560f71673c45658c28c/5a190/lambda-ide.png 800w,
/static/339c291169c00560f71673c45658c28c/c1b63/lambda-ide.png 1200w,
/static/339c291169c00560f71673c45658c28c/29007/lambda-ide.png 1600w"
        sizes="(max-width: 800px) 100vw, 800px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<p>Secondly, you can greatly improve your workflow by having feature tests. You can mock the request
given to function from the API Gateway by calling the function with a body with same key names.
Then, using <code>jest-dynamodb</code> you can intercept the calls made to dynamoDb so you don't need to run
a docker container. I also used <code>aws-sdk-mock</code> and <code>Sinon.js</code>  when I was calling their APIs to send
messages to my websocket connections. Here is a snippet of one my tests.</p>
<pre><code>it('User has already made a connection with a game returns 403', async () => {
  const spy = sinon.spy();
  AwsMock.mock('ApiGatewayManagementApi', 'postToConnection', (params, callback) =>  {
    spy(JSON.parse(params.Data));
    callback();
  });
  const creatorResponse = await steps.createAUser();
  const userId = creatorResponse.body.id;
  const gameResponse = await steps.createAGame({ 
    userId,
    name: 'Pokemon Lobby',
    type: 'WouldYouRather',
  });
  const gameId = gameResponse.body.id;

  await steps.connectToWss({ gameId, userId, connectionId: uuid() });
  const connectResponse = await steps.connectToWss({ gameId, userId, connectionId: uuid() });

  expect(spy.notCalled).toBeTruthy();
  expect(connectResponse).toEqual({
    statusCode: 403,
    body: { message: 'CONNECTION_ALREADY_ESTABLISHED' }
  });
  AwsMock.restore();
});
</code></pre>
<p>I'd recommend using cucumber if you're going to write feature tests. I didn't think this project
was going to get very large, so I didn't invest the time to adding it and created my own testings
framework.</p>
<h3>Web Sockets</h3>
<p>As I became more confident with the serverless technology I wanted to do something more challenging
with it. I decided I'd make use of the Web socket gateway and try to implement some sort of real
time quiz game. I'd want a user to be able to create a game, share that game through a URL and then
play social quiz games, like what music do you rather listening to.</p>
<p>When using Amazons web sockets, different routes are used to determine what to invoke. For example,
I have a lambda function called onConnect which takes query string parameters attached to the web
socket URL, adds the connection to a connections database, and then broadcasts to all connections also
apart of that game that a new player has joined. This lambda is invoked when the $connect route is
called by connecting to the web socket. I also ended up with a $disconnect route and function which
handled the cleanup of the resources.</p>
<p>I was implementing a time based round game, which meant I needed to handle calling a function every
~10 seconds which broadcasted the new round to all participants of a game. I could either find a
service that would call an endpoint every few seconds which would trigger the new round, or I could
do it in one Lambda function which did a setTimeout between each call. I opted for the latter because
after some analysis I found that AWS is so cheap, that even if each game ran for a minute, it
would still only cost me $1 for every 10,000 games. Even if that is an inefficient use of resources
it is still cheaper than paying for another service and the invocations to a new lambda for each round.</p>
<p>Here's a code snippet of my lambda broadcasting a new round every few seconds.</p>
<pre><code>async function sendRounds({ game, event}) {
  const socketManager = new SocketManager(event.requestContext);
  let i = 0;
  while (i &#x3C; game.numberRounds) {
    i++;
    await Promise.all([
      newRound({ gameId: game.id, socketManager, roundNumber: i }),
      timeout(game.roundTimeMs)
    ]);
  }
  return;
}
</code></pre>
<h2>Resources</h2>
<p>Find the code to the frontend and backend on my github</p>
<ul>
<li><a href="https://github.com/IsaacMurtagh/PartyGames_Client">https://github.com/IsaacMurtagh/PartyGames_Client</a></li>
<li><a href="https://github.com/IsaacMurtagh/PartyGames_Server">https://github.com/IsaacMurtagh/PartyGames_Server</a></li>
</ul></article></div></div></div></main></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/projects/serverless-quizzes/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-4652ab56b0b026977810.js"],"app":["/app-5078ad23aed246639190.js"],"component---src-pages-404-js":["/component---src-pages-404-js-c37139e5806ec4c31dc2.js"],"component---src-pages-index-js":["/component---src-pages-index-js-2b57c21c3185a6443e82.js"],"component---src-pages-markdown-remark-frontmatter-slug-js":["/component---src-pages-markdown-remark-frontmatter-slug-js-4f2f72565b5cc3c19457.js"]};/*]]>*/</script><script src="/polyfill-4652ab56b0b026977810.js" nomodule=""></script><script src="/component---src-pages-markdown-remark-frontmatter-slug-js-4f2f72565b5cc3c19457.js" async=""></script><script src="/2c55300f2e7d4016f22c26bd5854057f5201321e-2388eb25c51adc51100a.js" async=""></script><script src="/app-5078ad23aed246639190.js" async=""></script><script src="/framework-8f37e7e48c1f9910a176.js" async=""></script><script src="/webpack-runtime-ef5337b5be46dedf3bbe.js" async=""></script></body></html>