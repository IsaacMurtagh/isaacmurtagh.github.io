{"componentChunkName":"component---src-pages-markdown-remark-frontmatter-slug-js","path":"/projects/pixel-dapp/","result":{"data":{"markdownRemark":{"html":"<h1>Block chain million dollar website</h1>\n<h2>Tldr;</h2>\n<p>Have you heard of the million dollar homepage? Well I've taken that concept and used Ethereum\nsmart contracts to allow people to own pixels stored on the Blockchain. See it at <a href=\"https://isaacmurtagh.github.io/pixel-dapp\">https://isaacmurtagh.github.io/pixel-dapp</a></p>\n<h2>Motivation</h2>\n<p>I've heard a lot of about Blockchain, but a most of it is around the speculation of price. I'm very\nmuch a supporter of the technology it self, so I wanted to work on project which would motivate me to\nget a better understanding of the technology and make something functional with it.</p>\n<h2>What did I make?</h2>\n<p>I based this project off <a href=\"http://www.milliondollarhomepage.com\">the million dollar homepage</a>. That is\na site where there is 1 million pixels, and companies paid one dollar for each pixel to advertise their\nbrand. I decided to create a smart contract which allowed for the concept of pixels being owned by ethereum\naccounts and for them to assign a colour to it.</p>\n<h2>The smart contract</h2>\n<p>I used Solidity for the smart contract, an object oriented programming language, popular for creating\nEthereum smart contracts. To learn the basics I did a Udemy course of the language and completed\nsome of the projects they recommended.</p>\n<p>The framework I used to compile and deploy the smart contracts was truffle.</p>\n<p>There is a single contract which I named a canvas. This canvas contained an array of arrays to form a\nmatrix. The matrix elements contained a single struct called a pixel. These pixels had an address, the\nowner and hex colour assigned by the purchaser. The canvas also had a constant price for each pixel.</p>\n<p>Querying with the canvas you could query for pixel based on the x, y coordinate. The returned pixel\nwould indicate if there was an owner and the colour of the pixel, which by default was the hex colour\n#000000.</p>\n<p>To make a purchase for a pixel you would pay a smart contract called <code>buyPixel</code>. You would also supply\nthe x, y and colour of the pixel. If no one owned the pixel and you paid the exact amount then\nthe transaction would be successful and you would be the immutable owner of that pixel.</p>\n<pre><code>// SPDX-License-Identifier: MIT\npragma solidity ^0.8.1;\n\ncontract Canvas {\n\n  struct S_Pixel {\n    uint24 color;\n    address owner;\n  }\n\n  S_Pixel[20][20] public pixels;\n  uint public startingPriceWei = 1 gwei;\n\n  event PixelBought(uint8 _x, uint8 _y, uint24 _color);\n  \n  function buyPixel(uint8 _x, uint8 _y, uint24 _color) public payable {\n      require(pixels[_x][_y].owner == address(0), 'Pixel already owned');\n      require(msg.value == startingPriceWei, 'Pixel must be payed in full');\n      pixels[_x][_y].color = _color;\n      pixels[_x][_y].owner = msg.sender;\n      emit PixelBought(_x, _y, _color);\n  }\n\n  function getRow(uint _row) public view returns(S_Pixel[20] memory) {\n    return pixels[_row];\n  }\n}\n</code></pre>\n<h2>Testing the smart contract</h2>\n<p>If you're familiar with Blockchain then you probably know Ethereum transaction prices are extremely pricey ($70 min as of writing this).\nIt's important when developing any software that you have a fast feedback loop. I used ganache to test\nthe contract locally. You can deploy contracts with truffle on it's own local test network, but ganache\noffers persistence after shutting down and a nice UI which helped me understand what was being sent\nin transactions.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/4e4cd756599202f843afacff5f47b208/c68a4/ganache-transaction.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAACUklEQVQ4y42SuW4TURSG52lYpFh2EickoNDSUEBNSeF4yyJA4iF4Bt6CIniNFSkIkOgoKBLHy2Qy9uy7l/nQvbYlhFyk+PTf/8zc/86cc5Xj4ltOq2VOKxVOqxXeV4t8PCnx4ajEu6OqrFUOC1SLh3J9UilTLRY4KZc4LpU4KhWpFouUCgXKh4cou/k8W9kMz/JZdjcz7G1lONjJsZvbYGczy/52liebGXZyGzzf2ybz+CEbjx5InuZzsv7yIEfp9T5vXuRRLj+94seXz3z7/pNWo0azXuei06bdalKv1ThvNWnWazQbNTrtJp3zNo16na9nZ3TaLdqtBhftOurVb9TrPyje1SWefkOSJAS+SxQGJHFIGHhS0/kM2zIwxiPCwCeJQqLQJw4D6SdJTJwk/OrpXBsuimE5WJaJ71oEro1jjhlp6sJ7DlHgoQ5uMHQN37UlnmNxO+jhWAZR4DKJQ7rDIUNNQzFHGp5tEstTfbnBNsdyLcKEH+vacrMn66HvYo7uCJcHCh+6FpHvoIzvbrlTB2jDvjz1dtiXXqg66KFrqvwiEexahgx2bQPfsXBtU9aEd2wT33NQRrpOt9sljiLSNGU+my2Yr2MOaSpJlwrpP7W5CBS/YzKdJMz+Z7rQaRIzncRyAMZIx3NsAs+VX+S7CzzXJvQ9FNEfz1n0MBJTDlzZE7FeDWWaRLLxAjmYZQtWAxJeqHhfEQNYFUSTQ9+RD1YqgldhAhG+jtlSFcsYMx7p8t7NZ9O1zKaTe6Oo6oB+v0coLqq4EmsJ7oFPFAX8BcedkLkQRveqAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"ganache-transaction\"\n        title=\"ganache-transaction\"\n        src=\"/static/4e4cd756599202f843afacff5f47b208/5a190/ganache-transaction.png\"\n        srcset=\"/static/4e4cd756599202f843afacff5f47b208/772e8/ganache-transaction.png 200w,\n/static/4e4cd756599202f843afacff5f47b208/e17e5/ganache-transaction.png 400w,\n/static/4e4cd756599202f843afacff5f47b208/5a190/ganache-transaction.png 800w,\n/static/4e4cd756599202f843afacff5f47b208/c1b63/ganache-transaction.png 1200w,\n/static/4e4cd756599202f843afacff5f47b208/29007/ganache-transaction.png 1600w,\n/static/4e4cd756599202f843afacff5f47b208/c68a4/ganache-transaction.png 2402w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h2>Deploying the smart contract</h2>\n<p>Instead of wasting hundreds of dollars and deploying the application to the ethereum mainnet, I only\ndeployed the app to the Ropsten test network. If you're unfamiliar with this, it's like the main network\nbut the ether has no value. You can go to a faucet and get free ethereum to test out smart contracts.</p>\n<p>I then created a ropsten infura project, deployed my application and now anyone (including you) can go\nand buy a pixel on my canvas.</p>\n<h2>Creating the Dapp UI</h2>\n<p>Using Vue3, I created an application that connects to smart contract.</p>\n<p>My contract after deploying outputs an Application Binary Interface (ABI). The ABI allows your application\nto know the contract's address on the Blockchain and the methods available to call. I used Web3.js to\ncall these much like a typical API.</p>\n<p>When the app starts it would request access to your meta mask. It then uses this to call for the smart\ncontract based on the network you're connected to (only deployed to my ropsten). If it can find the smart\ncontract, it will then lookup the rows of pixel and show the canvas on the page.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6f979c519b6384d50ced1e29ffd82aa0/5b2ff/pixel-dapp-canvas.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 80%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABYlAAAWJQFJUiTwAAACPUlEQVQ4y5WRS08TYRSGm4BAL0Npp51LZzSsWEHsAgMpSzfEdEPgV/Az1IVEoVPc+Rcad4RATFx0owsXRmNELUoh0AstFBMqnXb6mH5SLKGBcpI3J5kz857nnePivJrNplCrPpQdXu81ODxr4thnHORyHB0dUa/XqdVq2LZ98W67t8vVadg4Hz75YhN7W+Nd7pTS/i75QpFKpUK5XBaqVqtXILoaOufD5S2bR+kaH8s2hd1ffN36xs5OlkKhQKlUEoTd6G4wPOPTscNxYZ/vmR9ktjNC2ewOxWKRRqNxc2RHzJo8/vyH2Jsq73OnVPI5drMH7O/lONjLU8wfcnJycomy09TV6d4mrAA/nf/Pf1dOqdecK/Gujew4/z7IZLZJvnjOq5cWq5aFlbRIWAlWEitYVoLkapKlpSVSqdT1hO1/sra2hsvlwu314Xa78Xg8DA256e+/w+DgEJIkifns7OwFyLWGm5ubjIyMYBgGuq6j6xHUYAAlHEZVNUzTFKYLCwu9GW5sbODz+dA0jbCioGkq8vh9JClAOBwSS1rkc3NzvRP6/X5Mw0A2NB64NZ4uP2M0HiDk1bh7zxQL5+fnb2cYiUTQdY1wKMLD0XHGxmRkWcU0jdsZdkZWFAVVVfAE/UhSsLfI7bN3Gg4PDwvClqmQqhIKyWJB61jdCNu6Qri+vs7AwACBQEBEb128tcDr9YouyzJ9fX3E4/HeCNPpNNFolFgsxvT0tNDU1BSTk5Oiz8zMMDExweLiYlfCvxTS5+gqcwshAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Canvas-ui\"\n        title=\"Canvas-ui\"\n        src=\"/static/6f979c519b6384d50ced1e29ffd82aa0/5a190/pixel-dapp-canvas.png\"\n        srcset=\"/static/6f979c519b6384d50ced1e29ffd82aa0/772e8/pixel-dapp-canvas.png 200w,\n/static/6f979c519b6384d50ced1e29ffd82aa0/e17e5/pixel-dapp-canvas.png 400w,\n/static/6f979c519b6384d50ced1e29ffd82aa0/5a190/pixel-dapp-canvas.png 800w,\n/static/6f979c519b6384d50ced1e29ffd82aa0/c1b63/pixel-dapp-canvas.png 1200w,\n/static/6f979c519b6384d50ced1e29ffd82aa0/29007/pixel-dapp-canvas.png 1600w,\n/static/6f979c519b6384d50ced1e29ffd82aa0/5b2ff/pixel-dapp-canvas.png 2190w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>You can then click on an un owned pixel, the UI will trigger an transaction and using your wallet of\nchoice you may pay the piper. Vuala, you are now the proud owner of a pixel of my rendition of a\nBlockchain million dollar homepage.</p>\n<h2>Limitations</h2>\n<p>You may notice that the canvas is only a 20x20 matrix, not 1000 x 1000 for a million pixels. That's\nbecause I ran into an issue of the querying for all the pixels. There was no easy way to return all\nall of them at once. There appears to be a memory issue when trying to return an array of arrays or an\narray of 1000 structures.</p>\n<h2>Resources</h2>\n<p>Code: <a href=\"https://github.com/IsaacMurtagh/pixel-dapp\">https://github.com/IsaacMurtagh/pixel-dapp</a></p>","frontmatter":{"date":"October 24, 2021","slug":"/projects/pixel-dapp/","title":"Pixel Dapp","tags":["Blockchain","Ethereum","Solidity","Truffle","Vue3","Open source"]}}},"pageContext":{"id":"e21ef199-dd4b-5e6c-9842-8768f6cbc92e","frontmatter__slug":"/projects/pixel-dapp/","__params":{"frontmatter__slug":"projects"}}},"staticQueryHashes":[]}